(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4552:function(e,a,s){Promise.resolve().then(s.bind(s,4051))},4051:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var t=s(7437),l=s(2265),r=s(4033),o=s(2173);function m(){let[e,a]=(0,l.useState)({email:"",password:"",remember:!1}),[s,m]=(0,l.useState)(!1),[n,c]=(0,l.useState)({}),i=(0,r.useRouter)(),d=s=>a({...e,[s.target.name]:s.target.value}),p=async a=>{a.preventDefault();let s=u();if(Object.keys(s).length)return c(s);m(!0),o.Z.post("/api/login",e).then(function(a){!0==e.remember?(localStorage.setItem("myapp-email",e.email),localStorage.setItem("myapp-password",e.password)):(localStorage.setItem("myapp-email",""),localStorage.setItem("myapp-password","")),localStorage.setItem("userData",JSON.stringify(a.data)),i.push("/movies")}).catch(function(e){console.log(e.response.data.error),m(!1),c({...n,common:e.response.data.error})})},u=()=>{let a={};return e.email||(a.email="Email is required."),e.password||(a.password="Password is required."),a},g=()=>{let e=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):"";e&&i.push("/movies")};return(0,l.useEffect)(()=>{a({email:localStorage.getItem("myapp-email")||"",password:localStorage.getItem("myapp-password")||"",remember:!!localStorage.getItem("myapp-email")}),g()},[]),(0,t.jsx)("div",{className:"min-h-[calc(100vh-7rem)] flex justify-center items-center",children:(0,t.jsxs)("div",{className:"sigInForm",children:[(0,t.jsx)("header",{className:"flex justify-center",children:(0,t.jsx)("h1",{className:"text-7xl mb-4",children:"Sign in"})}),(0,t.jsxs)("div",{className:"my-4",children:[(0,t.jsx)("input",{type:"email",placeholder:"Email",name:"email",onChange:d,value:e.email,autoFocus:!0,className:"border-2 w-full p-4 rounded-lg InputFieldStyle"}),(0,t.jsx)("span",{className:"text-danger fw-bold mt-2 d-block",children:n.email?n.email:""})]}),(0,t.jsxs)("div",{className:"my-4",children:[(0,t.jsx)("input",{type:"password",placeholder:"Password",name:"password",onChange:d,value:e.password,autoFocus:!0,className:"border-2 w-full p-4 rounded-lg InputFieldStyle"}),(0,t.jsx)("span",{className:"text-danger fw-bold mt-2 d-block",children:n.password?n.password:""})]}),(0,t.jsxs)("div",{className:"flex justify-center items-center mb-3 remember_me_box",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.remember,onChange:s=>{a({...e,remember:s.target.checked})},className:"Remember"}),(0,t.jsx)("label",{children:"Remember Me"})]}),(0,t.jsx)("p",{className:"mb-2 text-rose-600 h5",children:n.common?n.common:""}),(0,t.jsx)("button",{disabled:s,onClick:p,className:"bg-green-400 padded w-full text-white font-semibold py-3 rounded-lg h3",children:!0==s?"Loading...":"Login"})]})})}}},function(e){e.O(0,[630,971,596,744],function(){return e(e.s=4552)}),_N_E=e.O()}]);